[DOC]

## 前端服务器

### 前端项目正常开发流程

一个完整的前端项目从开发到上线、后期维护的流程如下
- 根据产品原型图确定技术框架，与后端一起讨论接口形式和数据结构。
- 规划开发时间，估出可靠的时间点，踩点开发。
- GitLab初始化项目，确立git flow工作流：主分支`master`、开发分支`dev`、测试分支`release/release**`、功能分支`feature/**`、修复分支`hotfix／**`。
- 开发者从`dev`分支拉出新的功能分支开发，在开发工程中尽量避免`merge`操作。
- 开发者在功能分支上开发完成之后将代码推送到远程仓库并提交合并分支请求：`merge request`，目标分支为`dev`。这时需要指定代码审核人并将合并请求指向此人。
- 代码审核人在收到合并分支请求后，对本次需要合并的代码进行`code review`，这个环节主要是规范代码、排查潜在的bug。代码审核完成后需要审核人打上标记并将合并请求指向测试人员，没有标记不予测试。
- 测试人员接收到合并请求并确认代码审核过之后，合并分支到`dev`分支，并从`dev`分支拉出新的测试分支`release/release**`，推送到远程仓库，前端服务器会自动拉取项目并发布到预发布cdn
- 测试人员预发地址上测试功能，如果测出问题，开发人员可直接在`release`分支上修改并推送到仓库，前端服务器会响应式地发布
- 测试通过之后，测试人员将`release`分支到`master`主分支上，并打上`tag`，同时`dev`分支需要合并`master`分支上的改动，确保每次功能发布之后`dev`分支与`master`分支保持一致
- 前端服务器监听代码仓库`master`分支的变换，自动部署到正式环境

在出现bug需要修复时操作流程如下
- 从最新的`master`分支上检出修复分支`hotfix/fix**`
- 开发者修复bug
- 修复完成后，推送修复分支并提交合并分支请求，目标分支：`dev`,进入代码审核阶段。
- 后面的操作与正常开发流程一致

### 前端服务器构建逻辑

依据前面的项目发布流程，前端服务器的主要作用是监听代码仓库分支的变化，在需要的时候进行打包部署项目，以及自动化测试

